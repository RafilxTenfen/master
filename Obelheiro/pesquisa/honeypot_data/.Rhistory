knitr::opts_chunk$set(echo = TRUE)
library('RSQLite')
library('ggplot2')
library(DBI)
options("scipen"=100, "digits"=4)
db <- dbConnect(RSQLite::SQLite(), dbname="./dnstor_statistics_dns.sqlite")
dns_data <-dbSendQuery(db, "SELECT * FROM DNS_ANALYSIS;")
dns_data_fetched <- fetch(dns_data)
dns_data_fetched
#str(dns_data_fetched)
#str(dns_data_fetched$payload)
library('RSQLite')
library('ggplot2')
library(DBI)
options("scipen"=100, "digits"=4)
db <- dbConnect(RSQLite::SQLite(), dbname="./dnstor_statistics_dns.sqlite")
dns_data <-dbSendQuery(db, "
SELECT count(*) as countGrouped, year, period, qname, qtype, SUM(count) as quantity
FROM DNS_ANALYSIS
GROUP BY year, period, qname, qtype
ORDER BY quantity DESC;
")
dns_data_fetched <- fetch(dns_data)
dns_data_fetched
#str(dns_data_fetched)
#str(dns_data_fetched$payload)
dns_data <-dbSendQuery(db, "
SELECT count(*) as countGrouped, year, period, qname, qtype, SUM(count) as quantity
FROM DNS_ANALYSIS
GROUP BY year, period, qname, qtype
ORDER BY quantity DESC;
")
library('RSQLite')
library('ggplot2')
library(DBI)
options("scipen"=100, "digits"=4)
db <- dbConnect(RSQLite::SQLite(), dbname="./dnstor_statistics_dns.sqlite")
dns_data <-dbSendQuery(db, "
SELECT count(*) as countGrouped, year, period, qname, qtype, SUM(count) as quantity
FROM DNS_ANALYSIS
GROUP BY year, period, qname, qtype
ORDER BY quantity DESC;
")
dns_data_fetched <- fetch(dns_data)
dns_data_fetched
#str(dns_data_fetched)
#str(dns_data_fetched$payload)
dns_data_fetched
install.packages("tidyverse")
knitr::opts_chunk$set(echo = TRUE)
summary(cars)
plot(pressure)
library('RSQLite')
library('ggplot2')
library(DBI)
options("scipen"=100, "digits"=4)
db <- dbConnect(RSQLite::SQLite(), dbname="./dnstor_statistics_dns.sqlite")
dns_data <-dbSendQuery(db, "
SELECT count(*) as countGrouped, year, period, qname, qtype, SUM(count) as quantity
FROM DNS_ANALYSIS
GROUP BY year, period, qname, qtype
ORDER BY quantity DESC;
")
dns_data_fetched <- fetch(dns_data)
dns_data_fetched
#str(dns_data_fetched)
#str(dns_data_fetched$payload)
dns_data_fetched
len(dns_data_fetched)
size(dns_data_fetched)
length(dns_data_fetched)
nrow(dns_data_fetched)
table(dns_data_fetched)
sort(table(dns_data_fetched))[1:10,]
#nrow(dns_data_fetched)
#sort(table(dns_data_fetched))[1:10,]
group_by(dns_data_fetched)
library(dplyr)
#nrow(dns_data_fetched)
#sort(table(dns_data_fetched))[1:10,]
group_by(dns_data_fetched)
#nrow(dns_data_fetched)
sort(table(dns_data_fetched))[1:10,]
#nrow(dns_data_fetched)
#sort(table(dns_data_fetched))[1:10,]
group_by(dns_data_fetched, perio)
#nrow(dns_data_fetched)
#sort(table(dns_data_fetched))[1:10,]
group_by(dns_data_fetched, period)
#nrow(dns_data_fetched)
#sort(table(dns_data_fetched))[1:10,]
group_by(dns_data_fetched, year + period)
ungroup(dns_data_fetched, year + period)
group_split(dns_data_fetched, year + period)
group_split(dns_data_fetched, year, period)
dns_data$year_period$ungrouped = group_split(dns_data_fetched, year, period)
dns_data$year_period_ungrouped = group_split(dns_data_fetched, year, period)
dns_data.year_period_ungrouped = group_split(dns_data_fetched, year, period)
dns_data.year_period.ungrouped = group_split(dns_data_fetched, year, period)
dns_data.year_period.ungrouped
dns_data.year_period.ungrouped[0]
dns_data.year_period.ungrouped[1]
dns_data.year_period.ungrouped[2]
sort(dns_data.year_period.ungrouped[2], countGrouped)
dns_data.year_period.ungrouped
dns_data.year_period.ungrouped[0]
dns_data.year_period.ungrouped[:1]
dns_data.year_period.ungrouped
dns_data.2020_4 = dns_data.year_period.ungrouped[1]
dns_data.2020_4
dns_data.2020_4[:10]
dns_data.2020_4
dns_data.2020_4 = dns_data.year_period.ungrouped[0]
dns_data.2020_4
dns_data.2020_4.iloc[:3]
dns_data.2020_4[1]
dns_data.2020_4[0]
dns_data.2020_4
dns_data.2020_4
dns_data.2020_4 = dns_data.year_period.ungrouped[1]
dns_data.2020_4
dns_data.2020_4$qname
dns_data.2020_4[1]
dns_data.2020_4
slice(dns_data.2020_4, 10)
typeof(dns_data.2020_4)
dns_data.2020_4
typeof(dns_data.2020_4[1])
dns_data.2020_4[1]
dns_data.2020_4[2]
dns_data.2020_4[0]
dns_data.year_period.ungrouped = group_split(dns_data_fetched, dns_data_fetched$year, dns_data_fetched$period)
dns_data.2020_4 = dns_data.year_period.ungrouped[1]
dns_data.year_period.ungrouped
dns_data.year_period.ungrouped[0]
dns_data.year_period.ungrouped[0]
dns_data.2020_4 = dns_data.year_period.ungrouped[1]
dns_data.year_period.ungrouped[1]
head(dns_data.year_period.ungrouped[1], 10)
head(dns_data.year_period.ungrouped[1], 10)
dns_data.year_period.ungrouped[1]
dns_data.year_period.ungrouped = group_split(dns_data_fetched, year, period)
dns_data.year_period.ungrouped[1]
dns_data.year_period.ungrouped[1]
dns_data.year_period.ungrouped[1]$tbl_df
dns_data.year_period.ungrouped[1]
typeof(dns_data.year_period.ungrouped[1])
apply(dns_data.year_period.ungrouped[1],head,n=10)
dns_data.year_period.ungrouped[1:10]
dns_data.year_period.ungrouped[1]
dns_data.year_period.ungrouped[1:10]
dns_data.year_period.ungrouped[1][1]
dns_data.year_period.ungrouped[1][1][1]
dns_data.year_period.ungrouped = group_split(dns_data_fetched, year, period) %>% header(.x)
dns_data.year_period.ungrouped = group_split(dns_data_fetched, year, period)
dns_data.year_period.ungrouped <- group_split(dns_data_fetched, year, period)
dns_data.year_period.ungrouped
dns_data.year_period.ungrouped <- group_split(dns_data_fetched, year, period) %>% slice(1:5)
dns_data.year_period.ungrouped <-
group_split(dns_data_fetched, year, period) %>%
slice(1:5)
dns_data.year_period.ungrouped <-
group_split(dns_data_fetched, year, period) %>%
top_n(n = 3, wt = quantity)
dns_data.year_period.ungrouped <-
group_split(dns_data_fetched, year, period)
dns_data.year_period.ungrouped[1] %>% top_n(n = 3, wt = quantity)
top_n(dns_data.year_period.ungrouped[1], n = 3, wt = quantity)
grouped <-
group_split(dns_data_fetche
dns_data.year_period.ungrouped
dns_data.year_period.ungrouped
dns_data.year_period.ungrouped
as.data.frame(dns_data.year_period.ungrouped)
as.data.frame(dns_data.year_period.ungrouped[0])
as.data.frame(dns_data.year_period.ungrouped[1])
as.data.frame(dns_data.year_period.ungrouped[1][0])
dns_data.year_period.ungrouped[1][0]
dns_data.year_period.ungrouped[1][1]
as.data.frame(dns_data.year_period.ungrouped[1][1])
dns_data.year_period.ungrouped <-
group_split(dns_data_fetched, year, period)
dns_data.year_period.ungrouped
head(dns_data.year_period.ungrouped)
head(dns_data.year_period.ungrouped)
head(dns_data.year_period.ungrouped, n = 10)
head(dns_data.year_period.ungrouped, n = 3)
dns_data.year_period.ungrouped
library(tidyverse)
library(dplyr)
library(tibble)
#nrow(dns_data_fetched)
#sort(table(dns_data_fetched))[1:10,]
#group_by(dns_data_fetched, year + period)
dns_data.year_period.ungrouped[1][1]
as.data.frame(dns_data.year_period.ungrouped[1][1])
top_n(dns_data.year_period.ungrouped[1], n = 3, wt = quantity)
dns_data.year_period.ungrouped
rownames(dns_data.year_period.ungrouped)
dns_data.year_period.ungrouped <- group_split(dns_data_fetched, year, period)
dns_data.year_period.ungrouped
